{% extends 'base.html' %}

{% block content %}

<div class="main">
   <br>
   <!-- First set of event summary cards -->
   {% if searching %}
   <h2 style="margin-left: 20px;">Search Results:</h2>

   <div class="break">
      <div class="d-flex justify-content-end align-items-center" style=" height:100%">
         <a class="breakButton" href="{{ url_for('main.index') }}">Clear Search</a>
      </div>
   </div>
   <div class="padding">
      <div class="row">
         {% if num_search_events == 0 %}
         <div class="d-flex p-4 justify-content-center">
            <h4>No events match your search criteria</h4>
         </div>
         {% else %}
         <div class="card-group">
            {% for event in search_events %}
            <div class="col-lg-3 col-md-4 col-sm-6">
               <a href="{{ url_for('event.show', id=event.id) }}" style="text-decoration:none">
                  <div class="card border-light">
                     <img class="card-img-top" src="{{ event.image }}" alt="Card image" style="width:100%">
                     <div class="card-body">
                        <row class="row">
                           <div class="d-flex justify-content-left">
                              <div>
                                 <p class="cardDetails {{ event.status }}" style="font-size:small; margin-bottom:5px;">
                                    Status:</p>
                              </div>
                              <div>
                                 <p class="cardDetails {{ event.status }}" id="status"
                                    style="font-size: small; margin-left:3px; margin-bottom:5px;">
                                    {{ event.status }}</p>
                              </div>
                           </div>
                        </row>
                        <h5 class="card-title">{{ event.name }}</h5>
                        <row class="row">
                           <div class="d-flex justify-content-left">
                              <div>
                                 <img src="static/svg/genre.svg" class="cardIcons">
                              </div>
                              <div>
                                 <p class="cardDetails" id="genre" style="margin:auto;">{{ event.genre }}</p>
                              </div>
                           </div>
                        </row>
                        <row class="row">
                           <div class="d-flex justify-content-left">
                              <div>
                                 <img src="static/svg/location.svg" class="cardIcons">
                              </div>
                              <div>
                                 <p class="cardDetails" id="location" style="margin:auto;">{{ event.location }}</p>
                              </div>
                           </div>
                        </row>
                        <row class="row">
                           <div class="d-flex justify-content-left">
                              <div>
                                 <img src="static/svg/date.svg" class="cardIcons">
                              </div>
                              <div>
                                 <p class="cardDetails" id="startDate">{{ event.date.strftime("%d %b %y at %I:%M %p") }}
                                 </p>
                              </div>
                           </div>
                        </row>
                     </div>
                  </div>
               </a>
            </div>
            {% endfor %}
         </div>
         {% endif %}
      </div>
   </div>
   <br>
   {% endif %}
   <!-- First set of event summary cards -->
   <h2 style="margin-left: 20px;">All Events:</h2>

   <div class="break">
   </div>
   <div class="padding">
      <div class="row">
         {% if num_events == 0 %}
         <div class="d-flex p-4 justify-content-center">
            <h4>No Events</h4>
         </div>
         {% else %}
         <div class="card-group">
            {% for event in events %}
            <div class="col-lg-3 col-md-4 col-sm-6">
               <a href="{{ url_for('event.show', id=event.id) }}" style="text-decoration:none">
                  <div class="card border-light">
                     <img class="card-img-top" src="{{ event.image }}" alt="Card image" style="width:100%">
                     <div class="card-body">
                        <row class="row">
                           <div class="d-flex justify-content-left">
                              <div>
                                 <p class="cardDetails {{ event.status }}" style="font-size:small; margin-bottom:5px;">
                                    Status:</p>
                              </div>
                              <div>
                                 <p class="cardDetails {{ event.status }}" id="status"
                                    style="font-size: small; margin-left:3px; margin-bottom:5px;">
                                    {{ event.status }}</p>
                              </div>
                           </div>
                        </row>
                        <h5 class="card-title">{{ event.name }}</h5>
                        <row class="row">
                           <div class="d-flex justify-content-left">
                              <div>
                                 <img src="static/svg/genre.svg" class="cardIcons">
                              </div>
                              <div>
                                 <p class="cardDetails" id="genre" style="margin:auto;">{{ event.genre }}</p>
                              </div>
                           </div>
                        </row>
                        <row class="row">
                           <div class="d-flex justify-content-left">
                              <div>
                                 <img src="static/svg/location.svg" class="cardIcons">
                              </div>
                              <div>
                                 <p class="cardDetails" id="location" style="margin:auto;">{{ event.location }}</p>
                              </div>
                           </div>
                        </row>
                        <row class="row">
                           <div class="d-flex justify-content-left">
                              <div>
                                 <img src="static/svg/date.svg" class="cardIcons">
                              </div>
                              <div>
                                 <p class="cardDetails" id="startDate">{{ event.date.strftime("%d %b %y at %I:%M %p") }}
                                 </p>
                              </div>
                           </div>
                        </row>
                     </div>
                  </div>
               </a>
            </div>
            {% endfor %}
         </div>
         {% endif %}

      </div>
      <!-- Automatic Carousel -->
      <div id="carousel" class="carousel slide" data-bs-ride="carousel">
         <div class="carousel-inner">
            <div class="carousel-item active">
               <img src="static/image/music1.jpg" class="d-block w-100" alt="Audience at a concert">
               <div class="carousel-content">
                  <p>Bringing Music Enthusiasts Together</p>
               </div>
            </div>
            <div class="carousel-item">
               <img src="static/image/music2.jpg" class="d-block w-100" alt="4 men on stage singing">
               <div class="carousel-content">
                  <p>Sharing Experiences</p>
               </div>
            </div>
            <div class="carousel-item">
               <img src="static/image/music3.jpg" class="d-block w-100" alt="FOMO concert">
               <div class="carousel-content">
                  <p>Making Memories</p>
               </div>
            </div>
         </div>
      </div>
   </div>
   <br>
   <!-- Second lot of event summary cards (upcoming)-->
   <h2 style="margin-left: 20px;">Upcoming Events:</h2>
   <div class="break">
   </div>
   <div class="padding">
      <div class="row">
         {% if num_events == 0 %}
         <div class="d-flex p-4 justify-content-center">
            <h4>No Events</h4>
         </div>
         {% else %}
         <div class="card-group">
            {% for event in upcoming_events %}
            <div class="col-lg-3 col-md-4 col-sm-6">
               <a href="{{ url_for('event.show', id=event.id) }}" style="text-decoration:none">
                  <div class="card border-light">
                     <img class="card-img-top" src="{{ event.image }}" alt="Card image" style="width:100%">
                     <div class="card-body">
                        <row class="row">
                           <div class="d-flex justify-content-left">
                              <div>
                                 <p class="cardDetails {{ event.status }}" style="font-size:small; margin-bottom:5px;">
                                    Status:</p>
                              </div>
                              <div>
                                 <p class="cardDetails {{ event.status }}" id="status"
                                    style="font-size: small; margin-left:3px; margin-bottom:5px;">
                                    {{ event.status }}</p>
                              </div>
                           </div>
                        </row>
                        <h5 class="card-title">{{ event.name }}</h5>
                        <row class="row">
                           <div class="d-flex justify-content-left">
                              <div>
                                 <img src="static/svg/genre.svg" class="cardIcons">
                              </div>
                              <div>
                                 <p class="cardDetails" id="genre" style="margin:auto;">{{ event.genre }}</p>
                              </div>
                           </div>
                        </row>
                        <row class="row">
                           <div class="d-flex justify-content-left">
                              <div>
                                 <img src="static/svg/location.svg" class="cardIcons">
                              </div>
                              <div>
                                 <p class="cardDetails" id="location" style="margin:auto;">{{ event.location }}</p>
                              </div>
                           </div>
                        </row>
                        <row class="row">
                           <div class="d-flex justify-content-left">
                              <div>
                                 <img src="static/svg/date.svg" class="cardIcons">
                              </div>
                              <div>
                                 <p class="cardDetails" id="startDate">{{ event.date.strftime("%d %b %y at %I:%M %p") }}
                                 </p>
                              </div>
                           </div>
                        </row>
                     </div>
                  </div>
               </a>
            </div>
            {% endfor %}
         </div>
         {% endif %}
      </div>
   </div>
   <br>
   <!-- Second lot of event summary cards (popularity, most tickets sold)-->
   <h2 style="margin-left: 20px;">Popular Events:</h2>
   <div class="break">
   </div>
   <div class="padding">
      <div class="row">
         {% if num_events == 0 %}
         <div class="d-flex p-4 justify-content-center">
            <h4>No Events</h4>
         </div>
         {% else %}
         <div class="card-group">
            {% for event in popular_events %}
            <div class="col-lg-3 col-md-4 col-sm-6">
               <a href="{{ url_for('event.show', id=event.id) }}" style="text-decoration:none">
                  <div class="card border-light">
                     <img class="card-img-top" src="{{ event.image }}" alt="Card image" style="width:100%">
                     <div class="card-body">
                        <row class="row">
                           <div class="d-flex justify-content-left">
                              <div>
                                 <p class="cardDetails {{ event.status }}" style="font-size:small; margin-bottom:5px;">
                                    Status:</p>
                              </div>
                              <div>
                                 <p class="cardDetails {{ event.status }}" id="status"
                                    style="font-size: small; margin-left:3px; margin-bottom:5px;">
                                    {{ event.status }}</p>
                              </div>
                           </div>
                        </row>
                        <h5 class="card-title">{{ event.name }}</h5>
                        <row class="row">
                           <div class="d-flex justify-content-left">
                              <div>
                                 <img src="static/svg/genre.svg" class="cardIcons">
                              </div>
                              <div>
                                 <p class="cardDetails" id="genre" style="margin:auto;">{{ event.genre }}</p>
                              </div>
                           </div>
                        </row>
                        <row class="row">
                           <div class="d-flex justify-content-left">
                              <div>
                                 <img src="static/svg/location.svg" class="cardIcons">
                              </div>
                              <div>
                                 <p class="cardDetails" id="location" style="margin:auto;">{{ event.location }}</p>
                              </div>
                           </div>
                        </row>
                        <row class="row">
                           <div class="d-flex justify-content-left">
                              <div>
                                 <img src="static/svg/date.svg" class="cardIcons">
                              </div>
                              <div>
                                 <p class="cardDetails" id="startDate">{{ event.date.strftime("%d %b %y at %I:%M %p") }}
                                 </p>
                              </div>
                           </div>
                        </row>
                     </div>
                  </div>
               </a>
            </div>
            {% endfor %}
         </div>
         {% endif %}
      </div>
      <br>
      <!-- Jumbotron -->
      <div class="jumbotron">
         <h1 class="display-4">Calling All Artists</h1>
         <p class="lead">Are you an artist that wants to promote their latest upcoming show?</p>
         <hr class="my-4">
         <p>Add your upcoming events to MusiMate today!</p>
         <a class="jumbotronButton" href="{{ url_for('event.create') }}" role="button">Create Event</a>
      </div>
   </div>
</div>
{% endblock %}